{"ast":null,"code":"import _slicedToArray from\"/Users/tangchenlong/Desktop/react-demo/react-admin-demos/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,InputNumber,Modal}from\"antd\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Setting(props){var setting=props.setting,setSettingDatas=props.setSettingDatas,handleClickSetting=props.handleClickSetting,gamesDatas=props.gamesDatas;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=useState(setting),_useState4=_slicedToArray(_useState3,2),formCaches=_useState4[0],setFormCaches=_useState4[1];var settingFnc=function settingFnc(){setVisible(function(visible){return!visible;});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:settingFnc,children:\"\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsx(Modal,{title:\"\\u8BBE\\u7F6E\",visible:visible,onOk:function onOk(){setSettingDatas(formCaches);setVisible(false);handleClickSetting();},onCancel:function onCancel(){setVisible(false);},okText:\"\\u786E\\u8BA4\",cancelText:\"\\u53D6\\u6D88\",children:/*#__PURE__*/_jsx(\"div\",{style:DefaultSettingWrapperStyle,children:formCaches.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{style:DefaultSettingRowStyle,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u7B2C\",index+1,\"\\u884C\"]}),/*#__PURE__*/_jsx(InputNumber,{min:1,max:10,defaultValue:item,onChange:function onChange(num){var data=JSON.parse(JSON.stringify(formCaches));data.splice(index,1,num);setFormCaches(data);}}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){var data=JSON.parse(JSON.stringify(formCaches));data.splice(index+1,0,1);setFormCaches(data);},children:\"+\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){var data=JSON.parse(JSON.stringify(formCaches));data.splice(index,1);setFormCaches(data);},children:\"-\"})]},Math.random());})})})]});}var DefaultSettingWrapperStyle={display:\"flex\",flexDirection:\"column\",width:\"50%\"};var DefaultSettingRowStyle={display:\"flex\",flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-evenly\",marginBottom:\"10px\"};","map":{"version":3,"sources":["/Users/tangchenlong/Desktop/react-demo/react-admin-demos/src/components/setting/index.tsx"],"names":["Button","InputNumber","Modal","useState","Setting","props","setting","setSettingDatas","handleClickSetting","gamesDatas","visible","setVisible","formCaches","setFormCaches","settingFnc","DefaultSettingWrapperStyle","map","item","index","DefaultSettingRowStyle","num","data","JSON","parse","stringify","splice","Math","random","display","flexDirection","width","alignItems","justifyContent","marginBottom"],"mappings":"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","sourcesContent":["import { Button, InputNumber, Modal } from \"antd\";\nimport { CSSProperties, useEffect, useRef, useState } from \"react\";\nimport { IBox } from \"../../type/types\";\n\ninterface ISetting {\n  setting: Array<number>;\n  setSettingDatas: Function;\n  handleClickSetting: Function;\n  gamesDatas: Array<Array<IBox>>;\n}\n\nexport default function Setting(props: ISetting) {\n  const { setting, setSettingDatas, handleClickSetting, gamesDatas } = props;\n  const [visible, setVisible] = useState(false);\n  const [formCaches, setFormCaches] = useState(setting);\n\n  const settingFnc = () => {\n    setVisible((visible) => !visible);\n  };\n\n  return (\n    <>\n      <Button type=\"primary\" onClick={settingFnc}>\n        设置\n      </Button>\n      <Modal\n        title=\"设置\"\n        visible={visible}\n        onOk={() => {\n          setSettingDatas(formCaches);\n          setVisible(false);\n          handleClickSetting();\n        }}\n        onCancel={() => {\n          setVisible(false);\n        }}\n        okText=\"确认\"\n        cancelText=\"取消\"\n      >\n        <div style={DefaultSettingWrapperStyle}>\n          {formCaches.map((item, index) => {\n            return (\n              <div style={DefaultSettingRowStyle} key={Math.random()}>\n                <span>第{index + 1}行</span>\n                <InputNumber\n                  min={1}\n                  max={10}\n                  defaultValue={item}\n                  onChange={(num) => {\n                    const data = JSON.parse(JSON.stringify(formCaches));\n                    data.splice(index, 1, num);\n                    setFormCaches(data);\n                  }}\n                />\n                <Button\n                  onClick={() => {\n                    const data = JSON.parse(JSON.stringify(formCaches));\n                    data.splice(index + 1, 0, 1);\n                    setFormCaches(data);\n                  }}\n                >\n                  +\n                </Button>\n                <Button\n                  onClick={() => {\n                    const data = JSON.parse(JSON.stringify(formCaches));\n                    data.splice(index, 1);\n                    setFormCaches(data);\n                  }}\n                >\n                  -\n                </Button>\n              </div>\n            );\n          })}\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nconst DefaultSettingWrapperStyle: CSSProperties = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  width: \"50%\",\n};\n\nconst DefaultSettingRowStyle: CSSProperties = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  alignItems: \"center\",\n  justifyContent: \"space-evenly\",\n  marginBottom: \"10px\",\n};\n"]},"metadata":{},"sourceType":"module"}